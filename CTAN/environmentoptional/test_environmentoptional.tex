\documentclass{article}
\usepackage{environmentoptional}
%\hfuzz=100pt
%\hbadness=10000
%\vbadness=10000

\begin{document}

\section{Testing beginoptionals}

\newenvironmentoptionals{myenvA}[1][1]{
Start A: Arg1=#1, Arg2=#2. 
}{
\relax
}

\beginoptionals{myenvA}[optional1]{mandatory1}
\relax
\endoptionals{myenvA}

\newenvironmentoptionals{myenvB}[1][1]{
#1-#2
}{
\relax
}

\beginoptionals{myenvB}[optional1]{mandatory1}
\relax
\endoptionals{myenvB}

\vspace{1cm}

\newenvironmentoptionals{myenvC}[2][2]{
Start B: Opt1=#1, Opt2=#2, Mand=#3, Mand2=#4. 
}{
\relax
}

\beginoptionals{myenvC}[opt1][opt2]{mand1}{mand2}
\relax 
\endoptionals{myenvC}

\newenvironmentoptionals{myenvD}[2][1]{
#1-#2-#3
}{
\relax
}

\beginoptionals{myenvD}[optional1][optional2]{mandatory1}
\relax
\endoptionals{myenvD}

\vspace{1cm}

\newenvironmentoptionals{myenvE}[8][1]{
#1-#2-#3-#4-#5-#6-#7-#8. Mand=#9. 
}{
\relax
}

\beginoptionals{myenvE}[A][B][C][D][E][F][G][H]{I}
\relax
\endoptionals{myenvE}


\newenvironmentoptionals{myenvF}[9][0]{
#1-#2-#3-#4-#5-#6-#7-#8-#9. 
}{
\relax
}

\beginoptionals{myenvF}[A][B][C][D][E][F][G][H][I]
\relax
\endoptionals{myenvF}

\newenvironmentoptionals{myenvG}[0][9]{
#1-#2-#3-#4-#5-#6-#7-#8-#9. 
}{
\relax
}

\beginoptionals{myenvG}{A}{B}{C}{D}{E}{F}{G}{H}{I}
\relax
\endoptionals{myenvG}

\newenvironmentoptionals{myenvH}[3][2]{
\typeout{FINAL_RESULT: #1-#2-#3-#4-#5}
#1-#2-#3-#4-#5-here
}{
\relax
}

\beginoptionals{myenvH}[A][B][C]{D}{E}
\relax
\endoptionals{myenvH}

\end{document}
